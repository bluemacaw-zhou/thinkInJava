软件仓库使用说明 
2020.07.14 
张翼 

==================================================
## 第 2 页

Catalog 
软件仓库使用说明 
模块、产品、应用申请 
模块管理和构建 
产品集成 
自动化部署 

==================================================
## 第 3 页

Catalog 
软件仓库使用说明 
模块、产品、应用申请 
模块管理和构建 
产品集成 
自动化部署 

==================================================
## 第 4 页

•模块申请 
•产品申请 
•应用申请 
•应用实例申请 
模块、产品与应用申请使用说明 

==================================================
## 第 5 页

点击申请新模块（如上图），进入模块信息编辑界面。 
在编辑界面完成编辑保存后需在待申请列表中勾选后点击批量申请模块才能触发相
应的申请流程。 
模块、产品与应用申请使用说明丨模块申请 


==================================================
## 第 6 页

•编辑界面上半部分填写模块信息，下半部分提供了部分模块信息的具体说明。 
•点击下一步时，会对当前步骤填写信息做基本校验，可根据提示信息合法输入。 
•点击下一步可进入下一部分内容，支持回退到上一步进行修改。 
模块、产品与应用申请使用说明丨模块申请 
模块信息填写区域 

==================================================
## 第 7 页

•下半部分提供了部分模块信息的具体说明，及不同字段间的对应关系，如模块代码要求
的格式，模块开发语言为Java/Android时需要填写GroupId等等。 
模块信息说明区域 
模块、产品与应用申请使用说明丨模块申请 

==================================================
## 第 8 页

•当开发语言为C++、C#时，可选择是否为系统模块，其他语言默认为否，不可修改。 
•当开发语言为C++、C#、Delphi、ASPNET时可选择是否编译Debug版本，其他语言
默认只有release版本，不可修改。 
•选择主模块为否时，主模块类型默认为Console不可修改。 
模块、产品与应用申请使用说明丨模块申请 

==================================================
## 第 9 页

•模块责任人最多填写两个，开发人员选填。 
•点击保存后编辑好的模块信息将呈现在待申请列表中，且支持修改和删除操作。 
模块、产品与应用申请使用说明丨模块申请 

==================================================
## 第 10 页

•待申请列表中的模块申请信息支持修改、删除操作。 
•对于已申请的模块信息，支持置为待申请操作，将其置到待申请列表中（用于审批未通
过需要修改的情况） 
 
•可以批量勾选待申请模块信息进行批量申请，该操作将会触发工单流程。 
•点击批量申请模块后有时会提示“系统中已存在模块代码XXX系统XX”，则表示已存
在相同模块代码和操作系统的模块，若要继续申请需要修改模块代码。 
模块、产品与应用申请使用说明丨模块申请 


==================================================
## 第 11 页

点击申请新产品（如上图），进入集成产品信息编辑界面。 
在编辑界面完成编辑保存后需在待申请列表中勾选后点击批量申请集成产品才能触
发相应的申请流程。 
模块、产品与应用申请使用说明丨集成产品申请 


==================================================
## 第 12 页

•编辑界面上半部分填写产品信息，下半部分提供了部分字段的具体说明。 
•点击下一步时，会对当前步骤填写信息做基本校验，可根据提示信息合法输入。 
•点击下一步可进入下一部分内容，支持回退到上一步进行修改。 
产品信息填写区域 
说明区域 
模块、产品与应用申请使用说明丨集成产品申请 

==================================================
## 第 13 页

•新申请AppClass 
是：代表此次申请新增一个AppClass。 
否：代表此次不申请，先前申请的依旧保留，不受影响。 
•新申请AppClass为否时，CommandID数量默认为0。 
•新申请AppClass为是时，CommandID数量表示此次申请新增的数量，先前已有的依旧保留，不受
影响。 
点击保存后该产品信息 
将出现在待申请列表中 
模块、产品与应用申请使用说明丨集成产品申请 

==================================================
## 第 14 页

•待申请列表中的集成产品申请信息支持修改、删除操作。 
•对于已申请的产品信息，支持置为待申请操作，将其置到待申请列表中（用于审批未通
过需要修改的情况） 
 
•可以批量勾选待申请产品信息进行批量申请，该操作将会触发工单流程。 
•提交过程中有校验不通过的情况，需要根据提示信息进行修改。 
 
模块、产品与应用申请使用说明丨集成产品申请 

==================================================
## 第 15 页

•在批量提交后若出现“系统中已存在产品代码XXX”的提示，则表示已有相同产品代码
的集成产品存在。 
•点击继续更新按钮，则新的集成产品信息会覆盖旧的产品信息。只有现在的产品负责人
可以提交更新的申请。 
模块、产品与应用申请使用说明丨集成产品申请 


==================================================
## 第 16 页

点击部署应用申请（如上图），进入应用信息编辑界面。 
在编辑界面完成编辑保存后需在待申请列表中勾选后点击批量申请应用才能触发相
应的申请流程。 
模块、产品与应用申请使用说明丨应用申请 


==================================================
## 第 17 页

•编辑界面上半部分填写应用信息，下半部分提供了部分字段的具体说明。 
•点击下一步时，会对当前步骤填写信息做基本校验，可根据提示信息合法输入。 
•点击下一步可进入下一部分内容，支持回退到上一步进行修改。 
应用信息填写区域 
说明区域 
模块、产品与应用申请使用说明丨应用申请 

==================================================
## 第 18 页

•结合编辑界面下方说明，按照步骤填写完成。 
•点击保存后应用信息将出现在待申请列表中。 
模块、产品与应用申请使用说明丨应用申请 

==================================================
## 第 19 页

•待申请列表中的应用申请信息支持修改、删除操作。 
•对于已申请的应用信息，支持置为待申请操作，将其置到待申请列表中（用于审批未通
过需要修改的情况） 
 
•可以批量勾选待申请应用信息进行批量申请，该操作将会触发工单流程。 
•提交过程中有校验不通过的情况，需要根据提示信息进行修改。 
模块、产品与应用申请使用说明丨应用申请 


==================================================
## 第 20 页

模块、产品与应用申请使用说明丨应用实例申请 
点击应用实例申请（如上图），进入应用实例申请界面。 
选择应用名称，站点类型，操作类型后，在实例列表中，选择合适的实例后，点击
申请触发相应的申请流程。 


==================================================
## 第 21 页

Catalog 
软件仓库使用说明 
模块、产品、应用申请 
模块管理和构建 
产品集成 
自动化部署 

==================================================
## 第 22 页

•输入关键字，选择模块类别、操作系统等，找到所需模块 
•搜索条件可以保存，下次需要搜索相同的模块时，可以直接选择该条件。 
•点击“收起”，可以隐藏搜索区域 
模块管理和构建使用说明丨搜索模块 

==================================================
## 第 23 页

•然后点击最右端的“访问SVN”链接 
•在新打开页面的地址栏复制地址，在本地计算机中用svn工具签出项目文件夹，进行开
发。 
•部门经理可以进行模块授权、修改等操作 
模块管理和构建使用说明丨操作模块 

==================================================
## 第 24 页

•点击“模块代码”进入模块类别详情页面，可以查看详细版本、构建日志、模块依
赖、模块资源 
模块管理和构建使用说明丨模块详情 

==================================================
## 第 25 页

•先选择一个版本-模块依赖关系-添加 
•添加完了依赖模块后，点击更新SVN库，这些所选的模块文件会更新到SVN路径下，
可以一并从SVN签出。若开发人员已开始代码开发，则更新SVN将依赖模块更新至开
发本地。 
一个模块在编译时，会用到许多其他的库，这时就需要添加依赖模块、 
模块管理和构建使用说明丨添加依赖模块 

==================================================
## 第 26 页

•模块编译时可能使用不到的、但是在运行时需要用到的文件。例如Web工程的js、图
片文件等。 
模块管理和构建使用说明丨添加模块资源 

==================================================
## 第 27 页

•规范SVN目录结构 
模块管理和构建使用说明丨模块代码上传 

==================================================
## 第 28 页

•SVN目录结构-C++ 
模块管理和构建使用说明丨模块代码上传 

==================================================
## 第 29 页

项目的工程文件（pom.xml），必须在APPName/release/src目录下，项目名称的定义，
必须与该模块代码一致。例如：Java工程文件pom.xml中的groupId和artifactId。 
•SVN目录结构-Java 
模块管理和构建使用说明丨模块代码上传 

==================================================
## 第 30 页

•在页面上部菜单可以点击“新主版本”按钮来新建主版本 
 
 
 
•对话框中的主版本号已自动生成，填写说明即可 
 
模块管理和构建使用说明丨模块新增主版本 

==================================================
## 第 31 页

•从SVN上把项目根目录下release的src签出到编译服务器 
•根据设置的模块依赖关系和目录规范在编译服务器上构建lib的目录结构与内容 
•编译服务器开始编译 
•下载模块资源，复制模块资源和模块依赖到产出物的目录 
•发布产出物 
模块管理和构建使用说明丨模块构建 

==================================================
## 第 32 页

•最后点击“构建”按钮，在弹出对话框选择要编译的版本 
•选择主版本号、编译命令、编译服务器，点击“构建”在软件仓库中进行编译。 
•后面的操作，请继续查看批量构建的说明 
模块管理和构建使用说明丨模块构建 


==================================================
## 第 33 页

•构建完成后，生成构建日志，三种状态，success，failure，exception 
 
模块管理和构建使用说明丨模块构建 

==================================================
## 第 34 页

模块管理和构建使用说明丨模块案例-错误排查-编译状况一览 

==================================================
## 第 35 页

模块管理和构建使用说明丨错误排查-实时编译过程展示 

==================================================
## 第 36 页

模块管理和构建使用说明丨错误排查-邮件通知 

==================================================
## 第 37 页

点击首页模块列表上方“批量构建”按钮打开批量构建界面。 
 
批量构建包括：串行构建、并行构建两类。 
模块管理和构建使用说明丨批量构建入口 

==================================================
## 第 38 页

• 添加好模块列表后，选择或填写相应的模块编译选项（如下图）： 
• 打开批量构建界面后，需点击左上角“添加”按钮，出现的表格中是你当前拥有编
译权限的所有模块，勾选你需要编译的模块，点击确定可将模块添加到批量编译列
表中。 
模块管理和构建使用说明丨添加欲构建模块 

==================================================
## 第 39 页

表格中设置好模块编译选项后在列表下方（如下图）选择构建顺序： 
• 并行编译： 
多模块同时进行编译，无顺序之分，不支持定时任务。 
• 串行编译： 
根据模块在列表中的顺序依次编译（拖动模块代码实现排序），且可设置其中一个模
块编译失败后是否继续 
支持添加定时任务（目前支持两个），在指定时间点自动编译。 
模块管理和构建使用说明丨选择构建顺序 

==================================================
## 第 40 页

• 设置好模块编译选项，若选择并行构建（默认），点击“构建”按钮即可发起编译。 
• 若选择串行，则必需先保存为编译模板。可在点击“构建”后，（若未保存为模板）
在弹出框填入模板名称，保存模板并构建，或点击右上角“保存模板”进行保存之
后再点击构建，发起串行构建。 
• 并行构建保存模板为可选项，点击右上角“保存模板”进行保存，方便下次使用，
默认不保存。 
模块管理和构建使用说明丨构建发起与模板保存 

==================================================
## 第 41 页

• 发起串行编译后，若要取消当前构建任务，可在发起后弹出的实时构建状态框中点
击出现的“取消”按钮。 
• 若已关闭实时状态框，则可点击首页的“查看构建状态”按钮，在弹出的状态框中
切换到“串行编译”找到您需要取消的正在构建的任务,点击“取消”按钮，若任务
已经编译完成则取消按钮消失，无法取消。 
模块管理和构建使用说明丨取消串行编译 

==================================================
## 第 42 页

•右上角下拉框选择已保存的模板（并行+串行），则保存的模块及编译选项均会显示在
界面上，可做修改，并再次发起构建。 
•并行构建模板：点击“构建”即可再次发起，默认不更新模板。 
•串行构建模板：点击“构建”即可再次发起，默认自动更新模板。 
•并行/串行模板均可通过右上角“更新当前模板”按钮手动更新。 
•点击左下角“删除当前模板”按钮，删除当前选中的模板。 
模块管理和构建使用说明丨构建模板更新与使用 

==================================================
## 第 43 页

• 在批量构建界面点击“构建”按钮，发起构建后，会弹出对应的串行/并行即时构建
状态框，显示发起构建后，当前用户进行串行/并行编译的模块状态信息。 
• 可点击首页“查看构建状态”按钮，查看历史串行/并行构建信息。 
模块管理和构建使用说明丨构建状态查看 

==================================================
## 第 44 页

• 在弹出的构建状态框中，若为并行编译，可点击表格中对应模块的“查看”在下方
“详细日志”部分查看构建日志，或点击“打开新页查看完整日志”全屏查看。 
模块管理和构建使用说明丨构建日志浏览（并行） 

==================================================
## 第 45 页

• 若为串行编译，展开对应的模板，点击想要查看模块中的“查看”链接，在新页中
全屏查看日志。 
模块管理和构建使用说明丨构建日志浏览（串行） 

==================================================
## 第 46 页

Catalog 
软件仓库使用说明 
模块、产品、应用申请 
模块管理和构建 
产品集成 
自动化部署 

==================================================
## 第 47 页

内网->研发->软件仓库->集成系统 
产品集成使用说明丨入口 

==================================================
## 第 48 页

产品根据实际场景分为五大类 
  终端 
  服务与工具 
  内部系统 
  通用组件 
  废弃 
五大类别下 
产品按照公司产品线划分 
 
开发人员可看到自己的产品。 
部门经理可看到部门内的产品 
产品集成使用说明丨产品查看与修改-产品分类与列表 

==================================================
## 第 49 页

修改产品： 
       选中要修改的产品后点击表头
的“修改产品”按钮进行编辑 
废弃产品： 
       选中要废弃的产品后点击表头
的“废弃产品”按钮进行废弃操作 
产品授权： 
       选中要授权的产品后点击表头
的“产品授权”按钮进行授权操作 
产品修改、废弃：具有集成系统的“产品管理”权限。 
产品授权：具有集成系统的“产品管理”权限/部门经理/高管 
产品集成使用说明丨产品查看与修改-修改产品 

==================================================
## 第 50 页

点击产品代码进入产品详情 
产品详情： 
   支持主版本及子版本选择 
  产品文件列表 
  文件来源视图 
  集成文件路径视图 
  配置文件管理 
  产品集成记录 
  版本比较（子版本） 
产品集成使用说明丨产品的具体版本操作-产品详情 

==================================================
## 第 51 页

文件操作： 
  添加 
  修改 
  单个文件删除 
  SVN文件清理 
文件添加：支持从软件仓库模块中导入/SVN地址导入/通用模块组合导入 
产品集成使用说明丨产品的具体版本操作-文件操作（主版本可操作） 

==================================================
## 第 52 页

相应文件添加完成后： 
1. 若你有集成权限则能看见下方“版本集成”按钮 
2. 选中要集成的主版本号，点击“版本集成”，填写相应信息，确定 
3. 点击版本号刷新按钮查看是否集成出子版本/根据邮件提示得到集成结果,或者通过集成记录
Tab页查看集成结果 
产品集成使用说明丨产品的具体版本操作-集成操作 

==================================================
## 第 53 页

通过集成记录Tab页查看集成结果 
产品集成使用说明丨产品的具体版本操作-集成记录 

==================================================
## 第 54 页

按照该版本下所添加的文件来源划分： 
  SVN 
  软件仓库 
  通用模块组合 
产品集成使用说明丨产品的具体版本操作丨来源视图 

==================================================
## 第 55 页

集成包中文件路径视图： 
 
产品集成使用说明丨产品的具体版本操作-路径视图 

==================================================
## 第 56 页

添加文件时若选择文件类型为“配置文件”，则会上表看对应的文件 
  模板操作： 
       添加、修改、删除（主版本可操作） 
  配置变量默认值设置（子版本可操作） 
产品集成使用说明丨产品的具体版本操作-配置文件 

==================================================
## 第 57 页

支持变动文件Excel导出与增量包提取。 
产品集成使用说明丨产品的具体版本操作-版本比较（子版本可比较） 

==================================================
## 第 58 页

选中产品集成子版本，点击头部“集成包提取”按钮，在弹出框中点击下载链接。 
产品集成使用说明丨集成包提取-集成包提取 

==================================================
## 第 59 页

Catalog 
软件仓库使用说明 
模块、产品、应用申请 
模块管理和构建 
产品集成 
自动化部署 

==================================================
## 第 60 页

自动化部署使用说明丨部署系统 

==================================================
## 第 61 页

自动化部署使用说明丨部署系统 
•  详细的操作指南 
•  全部应用的列表 
•  执行部署 
•  实例管理 
•  查看实例状态 
•  运维管理 

==================================================
## 第 62 页

自动化部署使用说明丨部署系统-部署操作手册 
•  记录了部署系统使用的全部说明 

==================================================
## 第 63 页

自动化部署使用说明丨部署系统-部署操作手册-发起部署 
•  发起部署页面填写部署应用的基本信息。配置具体部署步骤的说明，点击”这里” 


==================================================
## 第 64 页

自动化部署使用说明丨部署系统-部署操作手册-部署步骤详解 
•  每一个部署步骤的详细解释 


==================================================
## 第 65 页

自动化部署使用说明丨部署系统-应用管理 
•  通过关键字搜索全部应用，应用负责人可以修改应用内容 


==================================================
## 第 66 页

自动化部署使用说明丨部署系统-部署管理 
•  查询部署记录 
•  发起开发站部署 
•  发起测试站部署 
•  发起主站部署 


==================================================
## 第 67 页

自动化部署使用说明丨部署系统-部署管理-开发站部署 
发起开发站部署，选择要部署的应用名称，选择升级版本，然后进入步骤设
置页面 


==================================================
## 第 68 页

自动化部署使用说明丨部署系统-部署管理-开发站部署 
部署步骤完全是自主设置的，系统内置多个模板，适应大部分场景。 
点击步骤指南查看每个步骤的详细说明，全部完成后，点击发起部署。 


==================================================
## 第 69 页

自动化部署使用说明丨部署系统-实例管理与操作 
•  搜索和查看部署中的应用，点击查看实例，查看和操作指定应用所属实例 


==================================================
## 第 70 页

自动化部署使用说明丨部署系统-实例管理与操作 
•  实例列表，可以对实例进行操作（开发站和测试站部署操作，开发人员可
以操作，主站实例部署操作，仅运维有权限） 
• 点击立即部署，选择合适的部署时间，系统会根据设定的时间开始部署 


==================================================
## 第 71 页

自动化部署使用说明丨部署系统-实例部署状态报表 
•  部署实例状态列表可以查询实例部署状态，查看日志，如果不是失败，可
以重试 


==================================================
## 第 72 页

自动化部署使用说明丨部署系统-实例部署状态报表 
•  部署完成，确认无误后，回到实例管理与操作可，选择确认部署以，结束本次部署。 


==================================================
## 第 73 页

软件仓库使用指南丨练习题 
•给定一个文本文件，写一个程序，计算文件中英文字母出现的次数(不区分大小写)，
并最终输出出现次数最多的10个字母，按出现次数从大到小排列，每个一行，每行格
式：字母+空格+出现次数，输出到一个文件中。 
 
•利用软件仓库申请一个项目，将上述程序完成的代码 check in到svn，使用构建系统
完成构建。 
•生成一个测试用的文本文件，不小于10M，也check in到 svn。 
 
•利用软件仓库申请一个产品，将模块构建好的可执行文件和测试文件，集成为一个
产品。 
 
•利用软件仓库申请一个应用和应用实例，绑定上述产品，利用开发站部署的功能，
部署到开发站指定的主机上，并自动运行，得到输出结果。 

==================================================
## 第 74 页

THANKYOU 
